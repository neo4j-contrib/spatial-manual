<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>1.1. Loading and Indexing</title><link rel="stylesheet" type="text/css" href="docbook-xsl.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.76.1" /><link rel="home" href="index.html" title="Neo4j Spatial v0.9-SNAPSHOT" /><link rel="up" href="spatial-indexing.html" title="Chapter 1. Index and Querying" /><link rel="prev" href="spatial-indexing.html" title="Chapter 1. Index and Querying" /><link rel="next" href="spatial-querying.html" title="1.2. Querying" /><link rel="preface" href="spatial-introduction.html" title="Introduction" /><link rel="chapter" href="spatial-indexing.html" title="Chapter 1. Index and Querying" /><link rel="chapter" href="spatial-layers.html" title="Chapter 2. Layers and GeometryEncoders" /><link rel="chapter" href="spatial-geoserver.html" title="Chapter 3. Neo4j Spatial Geoserver Plugin" /><link rel="chapter" href="spatial-examples.html" title="Chapter 4. Examples" /><link rel="subsection" href="spatial-loading-and-indexing.html#_simple_point_layer" title="1.1.1. Simple Point Layer" /><link rel="subsection" href="spatial-loading-and-indexing.html#_editablelayer" title="1.1.2. EditableLayer" /><link rel="copyright" href="ln-idp4455296.html" title="License: Creative Commons 3.0" />


<!-- favicon -->

<link rel="shortcut icon" href="http://neo4j.org/favicon.ico" type="image/vnd.microsoft.icon" />
<link rel="icon" href="http://neo4j.org/favicon.ico" type="image/x-icon" />

<!-- style -->

<link href="css/shCore.css" rel="stylesheet" type="text/css" />
<link href="css/shCoreEclipse.css" rel="stylesheet" type="text/css" />
<link href="css/shThemeEclipse.css" rel="stylesheet" type="text/css" />
<link href="css/neo.css" rel="stylesheet" type="text/css" />

<!-- Syntax Highlighter -->

<script type="text/javascript" src="js/shCore.js"></script>
<script type="text/javascript" src="js/shBrushJava.js"></script>
<script type="text/javascript" src="js/shBrushJScript.js"></script>
<script type="text/javascript" src="js/shBrushBash.js"></script>
<script type="text/javascript" src="js/shBrushPlain.js"></script>
<script type="text/javascript" src="js/shBrushXml.js"></script>
<script type="text/javascript" src="js/shBrushGroovy.js"></script>
<script type="text/javascript" src="js/shBrushCypher.js"></script>
<script type="text/javascript" src="js/shBrushPython.js"></script>

<!-- activate when needed
<script type="text/javascript" src="js/shBrushRuby.js"></script>
<script type="text/javascript" src="js/shBrushCSharp.js"></script>
-->
 
<script type="text/javascript">
  SyntaxHighlighter.defaults['tab-size'] = 4;
  SyntaxHighlighter.defaults['gutter'] = false;
  SyntaxHighlighter.defaults['toolbar'] = false;
  SyntaxHighlighter.all()
</script>

<!-- JQuery -->

<script type="text/javascript" src="js/jquery-1.6.2.min.js"></script>

<!-- Image Scaler -->

<script type="text/javascript" src="js/imagescaler.js"></script>

<!-- Table Styler -->

<script type="text/javascript" src="js/tablestyler.js"></script>

<!-- Version Switcher -->

<script type="text/javascript" src="js/versionswitcher.js"></script>


  </head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><td width="20%" align="left"><a accesskey="p" href="spatial-indexing.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="spatial-querying.html">Next</a></td></tr></table><hr /></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="spatial-loading-and-indexing"></a>1.1. Loading and Indexing</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="spatial-loading-and-indexing.html#_simple_point_layer">1.1.1. Simple Point Layer</a></span></dt><dt><span class="section"><a href="spatial-loading-and-indexing.html#_editablelayer">1.1.2. EditableLayer</a></span></dt></dl></div><p>It is possible to load data into the database and add it to the index during the load.
It is also possible to add existing spatial data to the index later. These are two very different
scenarios, and in fact can lead to different graph structures, so we will explain them each in turn.</p><p>To load data directly into the index, the simplest approach is to start by creating a Layer that
suites your data. There are many possible choices built into Neo4j-Spatial, but two common ones
would be:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
SimplePointLayer - an editable layer that allows you to add only Points to the database.
This is a good choice if you only have point data and are interested primarily in proximity
searches. This layer includes utility methods specifically for that case.
</li><li class="listitem">
EdiableLayerImpl - this is the default editable layer implementation and can handle any
type of simple geometry, including Point, LineString and Polygon, as well as Multi-Point,
Multi-LineString and Multi-Polygon. Since it is a generic implementation and cannot know about
the topology of your data model, it stores each geometry separately in a single property of a
single node. The storage format is WKB, or <span class="emphasis"><em>Well Known Binary</em></span>, which is a binary format specific
to geographic geometries, and also used by the popular open source spatial database PostGIS.
</li></ul></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_simple_point_layer"></a>1.1.1. Simple Point Layer</h3></div></div></div><p>simple point layer</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_editablelayer"></a>1.1.2. EditableLayer</h3></div></div></div><p>editable layer</p></div></div>

<div id="disqus_thread"></div>
<script type="text/javascript">
// DISQUS
  var disqus_identifier = "manual";
  var disqus_title = "The Neo4j Manual";
  function getIdFromHeading ( headingElement )
  {
    var id = disqus_identifier;
    var child = headingElement.firstChild;
    if ( !child || child.nodeName.toLowerCase() !== "a")
    {
      return null;
    }
    var attr = child.getAttribute("id");
    if ( !attr )
    {
      return null;
    }
    id += "-";
    id += headingElement.firstChild.getAttribute("id");
    return id;
  }
  var headings = document.body.getElementsByTagName("h1");
  if ( headings.length > 0 )
  {
    var h1Id = getIdFromHeading ( headings[0] );
    if ( h1Id )
    {
      if ( h1Id.length > 2 && h1Id.substr( 0, 9) === "manual-id" )
      {
        disqus_identifier += "-toc";
      }
      else
      {
        disqus_identifier = h1Id;
      }
    }
  }
  else
  {
    headings = document.body.getElementsByTagName("h2");
    if ( headings.length > 0 )
    {
      var id = getIdFromHeading( headings[0] );
      if ( id )
      {
        disqus_identifier = id;      
      }
      else
      {
        var divs = document.body.getElementsByTagName("div");
        for ( var i=0, l=divs.length; i<l; i+=1)
        {
          var div = divs[i];
          if ( div.className === "refsynopsisdiv")
          {
            var divId = getIdFromHeading( div );
            if ( divId )
            {
              disqus_identifier = divId;
            }
            break;
          }
        }
      }
    }
    if ( document.title )
    {
       disqus_title = document.title;
       var match = disqus_title.match( /^(Chapter|)[0-9\.\s]*(.*)$/ );
       if ( match && match[2] )
       {
         disqus_title = match[2];
       }
    }
  }
  var disqus_url = window.location;
  if ( disqus_url.protocol === "http:" || disqus_url.protocol === "https:" )
  {
    var docsLocation = "http://docs.neo4j.org/chunked/snapshot/";
    var path = disqus_url.pathname;
    var position = path.lastIndexOf('/');
    if ( position === -1 )
    {
      position = path.lastIndexOf('\\');
    }
    if ( position > 0 )
    {
      var page = path.substring( position + 1 );
      disqus_url = docsLocation + page;
    }
  }
  var disqus_shortname = "neo4j";
  var disqus_developer = 0;

(function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();

// GA
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-1192232-16']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>  

<HR xmlns=""></HR><a xmlns="" href="ln-idp4455296.html"><p xmlns="http://www.w3.org/1999/xhtml" class="copyright">Copyright © 2011 Neo Technology</p></a><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="spatial-indexing.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="spatial-indexing.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="spatial-querying.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top"> </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> </td></tr></table></div></body></html>
